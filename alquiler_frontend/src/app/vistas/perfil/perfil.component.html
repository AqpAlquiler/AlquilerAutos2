<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand" routerLink="/">RentDrive</a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
            data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" routerLink="/catalogo">Catálogo</a></li>
        <li class="nav-item"><a class="nav-link" routerLink="/login">Cerrar Sesión</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container my-5">
  <div class="row">

    <!-- Información personal -->
    <div class="col-lg-4 mb-4">
      <div class="card shadow-sm perfil-card">
        <div class="card-header bg-primary text-white text-center">
          <h5><i class="fa-solid fa-user"></i> Información Personal</h5>
        </div>
        <div class="card-body">
          <p><i class="fa-solid fa-id-card me-2"></i><strong>Nombre:</strong> {{ cliente.nombre }}</p>
          <p><i class="fa-solid fa-id-card me-2"></i><strong>Apellido:</strong> {{ cliente.apellido }}</p>
          <p><i class="fa-solid fa-envelope me-2"></i><strong>Correo:</strong> {{ cliente.correo }}</p>
          <p><i class="fa-solid fa-phone me-2"></i><strong>Teléfono:</strong> {{ cliente.telefono }}</p>
          <p><i class="fa-solid fa-passport me-2"></i><strong>Documento:</strong> {{ cliente.documento }}</p>
        </div>
      </div>
    </div>

    <!-- Historial de reservas / pagos -->
    <div class="col-lg-8">
      <ul class="nav nav-tabs mb-3" id="historialTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="reservas-tab" data-bs-toggle="tab" data-bs-target="#reservas"
                  type="button" role="tab">
            <i class="fa-solid fa-car"></i> Reservas
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pagos-tab" data-bs-toggle="tab" data-bs-target="#pagos"
                  type="button" role="tab">
            <i class="fa-solid fa-money-bill"></i> Pagos
          </button>
        </li>
      </ul>

      <div class="tab-content">
        <!-- Tab Reservas -->
        <div class="tab-pane fade show active" id="reservas" role="tabpanel">
          <div class="card shadow-sm historial-card">
            <div class="card-body p-2">
              <table class="table table-striped table-hover mb-0">
                <thead class="table-dark">
                  <tr>
                    <th>Vehículo</th>
                    <th>Inicio</th>
                    <th>Fin</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let reserva of reservas">
                    <td><i class="fa-solid fa-car me-1"></i> {{ reserva.vehiculo }}</td>
                    <td>{{ reserva.fechaInicio }}</td>
                    <td>{{ reserva.fechaFin }}</td>
                    <td>{{ reserva.estado }}</td>
                    <td>
                      <button class="btn btn-primary btn-sm" (click)="verReserva(reserva)">
                        <i class="fa-solid fa-eye"></i>
                      </button>
                      <button class="btn btn-danger btn-sm" (click)="cancelarReserva(reserva)">
                        <i class="fa-solid fa-ban"></i>
                      </button>
                    </td>
                  </tr>
                  <tr *ngIf="reservas.length === 0">
                    <td colspan="5" class="text-center text-muted">No hay reservas registradas</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Tab Pagos -->
        <div class="tab-pane fade" id="pagos" role="tabpanel">
          <div class="card shadow-sm historial-card">
            <div class="card-body p-2">
              <table class="table table-striped table-hover mb-0">
                <thead class="table-dark">
                  <tr>
                    <th>ID Pago</th>
                    <th>Monto</th>
                    <th>Fecha</th>
                    <th>Estado</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let pago of pagos">
                    <td>{{ pago.idPago }}</td>
                    <td>S/ {{ pago.monto }}</td>
                    <td>{{ pago.fecha }}</td>
                    <td>{{ pago.estado }}</td>
                  </tr>
                  <tr *ngIf="pagos.length === 0">
                    <td colspan="4" class="text-center text-muted">No hay pagos registrados</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>
