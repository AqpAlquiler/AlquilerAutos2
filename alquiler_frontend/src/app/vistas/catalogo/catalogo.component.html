<body>

<app-navbar></app-navbar>

<!-- CAT츼LOGO -->
<div class="container my-5" 
     style="min-height: 80vh;
            padding: 30px;   
            background: rgb(0, 0, 0); 
            backdrop-filter: blur(4px); 
            border-radius: 20px;">

  
  <h2 class="catalog-title-underline " style="text-align: center;">Cat치logo de Veh칤culos</h2>


  <!-- 游댌 FILTROS -->
  <form (ngSubmit)="filtrar()" class="mb-5 p-3 border rounded bg-light shadow-sm">
    <div class="row g-3">

      <!-- Marca -->
      <div class="col-md-3">
        <label class="form-label fw-bold">Marca</label>
        <select class="form-select" [(ngModel)]="filtro.marca" name="marca">
          <option value="">Todas</option>
          <option *ngFor="let m of marcas" [value]="m">{{ m }}</option>
        </select>
      </div>

       <!-- Tipo -->
      <div class="col-md-2">
        <label class="form-label fw-bold">Tipo</label>
        <select class="form-select" [(ngModel)]="filtro.tipoVehiculo" name="tipoVehiculo">
          <option value="">Todos</option>
          <option *ngFor="let t of tipos" [value]="t">{{ t }}</option>
        </select>
      </div>

      <!-- A침o -->
      <div class="col-md-2">
        <label class="form-label fw-bold">A침o</label>
        <select class="form-select" [(ngModel)]="filtro.anio" name="anio">
          <option value="">Todos</option>
          <option *ngFor="let a of anios" [value]="a">{{ a }}</option>
        </select>
      </div>

     

      <!-- Precio m치ximo -->
  <div class="col-md-3">
    <label class="form-label fw-bold">Precio m치ximo</label>
    <input type="number" class="form-control" [(ngModel)]="filtro.precioMax" name="precioMax" placeholder="S/">
  </div>
    </div> 
    
    
    
    <!-- Botones -->
    <div class="text-end mt-3">
      <button type="submit" class="btn btn-primary me-2">Filtrar</button>
      <button class="btn btn-secondary" (click)="limpiar()">Limpiar</button>
    </div>
  </form>

      <!-- Mensaje de error -->
<div *ngIf="errorMsg" class="alert alert-danger">
  {{ errorMsg }}
</div>

  <!-- RESULTADOS -->
  <div class="row g-4">
    <div class="col-md-4" *ngFor="let vehiculo of catalogos">
      <div class="card h-100 shadow-sm">

        <img [src]="vehiculo.imagen"
             class="card-img-top" alt="Imagen del veh칤culo">

        <div class="card-body">
          <h5 class="card-title">
            {{ vehiculo.marca }} {{ vehiculo.modelo }}
          </h5>
          <p class="card-text">A침o: {{ vehiculo.anio }}</p>
          <p class="card-text">Precio por d칤a: S/ {{ vehiculo.precioDiario }}</p>
        </div>

        <div class="card-footer text-end bg-white">
          <button 
          class="btn btn-primary btn-sm"
          [routerLink]="['/catalogo', vehiculo.idVehiculo]">
          Ver detalles
        </button>
      </div> 
      
      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer class="bg-dark text-white text-center py-3 mt-5">
  <p class="mb-0">&copy; 2025 RentDrive. Todos los derechos reservados.</p>
</footer>
</body>