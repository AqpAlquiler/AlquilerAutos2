<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <a class="navbar-brand" routerLink="/">RentDrive</a>

  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbarNav"
    aria-controls="navbarNav"
    aria-expanded="false"
    aria-label="Toggle navigation"
  >
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav ml-auto">
      <li class="nav-item"><a class="nav-link" routerLink="/clientes">Clientes</a></li>
      <li class="nav-item"><a class="nav-link active" routerLink="/vehiculos">Vehículos</a></li>
      <li class="nav-item"><a class="nav-link" routerLink="/alquileres">Alquileres</a></li>
    </ul>
  </div>
</nav>

<!-- CONTENIDO -->
<div class="container mt-5 pt-5" *ngIf="vehiculo">
  <div class="card shadow-lg border-0">
    <div class="card-header bg-dark text-white text-center">
      <h3>Detalle del Vehículo</h3>
    </div>

    <div class="card-body">
      <div class="row align-items-center">
        <!-- Imagen del vehículo -->
        <div class="col-md-5 text-center mb-4 mb-md-0">
          <img
            *ngIf="vehiculo.imagen"
            [src]="'/uploads/' + vehiculo.imagen"
            alt="Imagen del Vehículo"
            class="img-fluid rounded shadow-sm border"
            style="max-height: 300px; object-fit: cover;"
          />

          <p *ngIf="!vehiculo.imagen" class="text-muted">Sin imagen disponible</p>
        </div>

        <!-- Detalles -->
        <div class="col-md-7">
          <div class="row">
            <div class="col-md-6 mb-3">
              <h5><strong>Marca:</strong></h5>
              <p>{{ vehiculo.marca }}</p>
            </div>

            <div class="col-md-6 mb-3">
              <h5><strong>Modelo:</strong></h5>
              <p>{{ vehiculo.modelo }}</p>
            </div>

            <div class="col-md-6 mb-3">
              <h5><strong>Año:</strong></h5>
              <p>{{ vehiculo.anio }}</p>
            </div>

            <div class="col-md-6 mb-3">
              <h5><strong>Placa:</strong></h5>
              <p>{{ vehiculo.placa }}</p>
            </div>

            <div class="col-md-6 mb-3">
              <h5><strong>Precio por día (S/):</strong></h5>
              <p>{{ vehiculo.precioDia }}</p>
            </div>

            <div class="col-md-6 mb-3">
              <h5><strong>Disponible:</strong></h5>
              <p>{{ vehiculo.disponible ? 'Sí' : 'No' }}</p>
            </div>
          </div>
        </div>
      </div>

      <hr />

      <!-- Historial -->
      <div class="mt-3">
        <h5 class="text-muted">Historial de alquileres</h5>

        <p *ngIf="!vehiculo.alquileres || vehiculo.alquileres.length === 0">
          Este vehículo aún no ha sido alquilado.
        </p>

        <ul
          class="list-group"
          *ngIf="vehiculo.alquileres && vehiculo.alquileres.length > 0"
        >
          <li class="list-group-item" *ngFor="let alquiler of vehiculo.alquileres">
            <strong>Cliente:</strong>
            {{ alquiler.cliente.nombre }} {{ alquiler.cliente.apellido }} |

            <strong>Inicio:</strong>
            {{ alquiler.fechaInicio }} |

            <strong>Fin:</strong>
            {{ alquiler.fechaFin }}
          </li>
        </ul>
      </div>

      <!-- Botones -->
      <div class="text-center mt-4">
        <a routerLink="/vehiculos" class="btn btn-secondary px-4 mr-2">Volver</a>
        <a [routerLink]="['/vehiculos/editar', vehiculo.id]" class="btn btn-primary px-4">
          Editar
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Si aún no cargó -->
<div class="text-center mt-5" *ngIf="!vehiculo">
  <p>Cargando vehículo...</p>
</div>
